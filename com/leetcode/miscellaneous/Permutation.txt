package com.leetcode;

import java.util.ArrayList;
import java.util.List;

/**
 * Algorithm
 * 1. Start with empty list
 * 2. Loop through all elements of array and add them at all possible positions of prev element
 */
public class Program {
    public static List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> result = new ArrayList<>();

        if(nums == null || nums.length == 0)
            return result;

        //Add empty list to result
        result.add(new ArrayList<>());

        for(int i=0; i <nums.length; i++) {
            List<List<Integer>>  currResult = new ArrayList<>();

            //Iterate over every prev in current result and add nums[i] at all position
            for(List<Integer> prev : result) {

                //Indexed from 0 to len, as we need to add to the end
                for(int j=0; j<= prev.size(); j++) {
                    List<Integer> curr = new ArrayList<>(prev);
                    curr.add(j, nums[i]);
                    currResult.add(curr);
                }
            }
            result = currResult;
        }

        return result;
    }

    public static void main(String[] args) {
        System.out.println(permute(new int[] {1,2,3}));
    }
}