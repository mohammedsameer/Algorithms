import java.io.*;
import java.util.*;

/*
 * To execute Java, please define "static void main" on a class
 * named Solution.
 *
 * If you need more classes, simply define them inline.
 */
//Algo:
//Maintain a counter, which is increemented when there is a match
class Solution {
  
  public static int  removeDuplicatesII(int[] arr)
  {
    if(arr.length==0)
      return -1;
    
    if(arr.length<=2)
      return arr.length;
    
    int count =1;
    int idx = 0;
    
    for(int i=1;i<arr.length;i++)
    {
      //Check if previous element is same as next element
      if(arr[idx]==arr[i])
        count++;
      else
        count=1;
      
      //If count<=2 increement, else copy current element in old index as its appeared more then twice
      if(count<=2)
        idx++;
      
      arr[idx]=arr[i];
    }
    
    return idx+1;
  }
  
  public static void main(String[] args) {
   int[] arr = {1,1,1,2,2,3};
   System.out.println("Search in Rotated Sorted Array: "+ removeDuplicatesII(arr));
  }
  
}
